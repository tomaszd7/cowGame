<!DOCTYPE html>

<html>
    <head>
        <title>CowGame</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
        <script src="js/Character.js"></script>
        <script src="js/CowBoard.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                var app = new CowBoard();      

                app.htmlNode.intervalFunc = setInterval(function() {
                    app.runGameLoop(); }, 1000);
                
                app.htmlNode.addEventListener('click', function(event) {
                    console.log('ask stop');
                    clearInterval(event.target.intervalFunc);
                })
                
                window.addEventListener('keydown', function (event) {
//                    console.log('key pressed', event);
                    var move = {x: null, y: null};
                    switch(event.key) {
                    case 'ArrowDown': 
                       move = {x: 0, y: 1};
                       break;
                    case 'ArrowUp': 
                       move = {x: 0, y: -1};
                       break;
                    case 'ArrowLeft': 
                       move = {x: -1, y: 0};
                       break;
                    case 'ArrowRight': 
                       move = {x: 1, y: 0};
                       break;
                    }
                    console.log(move);
                    app.user.doAction(app.board, move);
                })
                
            })
            
        </script>
    </head>
    <body>
        
    </body>
</html>
